<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Divide costs fairly amongst friends • dividefair</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Divide costs fairly amongst friends">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dividefair</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/divide-costs-fairly-amongst-friends.html">Divide costs fairly amongst friends</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Divide costs fairly amongst friends</h1>
            
      

      <div class="d-none name"><code>divide-costs-fairly-amongst-friends.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">dividefair</span><span class="op">)</span></span></code></pre></div>
<!-- WARNING - This vignette is generated by {fusen} from dev/flat_money_transfer.Rmd: do not edit by hand -->
<div class="section level2">
<h2 id="whats-this-package-about">What’s this package about?<a class="anchor" aria-label="anchor" href="#whats-this-package-about"></a>
</h2>
<p>Divide the costs of a group undertaking. If you go hiking with your
friends the whole group has some costs that need to be divided. If you
always share evenly the division can be unfair. What if somebody had to
leave early? What if somebody only participated in some activities? What
if somebody booked a seat but couldnt show up? What if there is a person
who earns less and others would like to chip in? What if there were
children who eat less than a full grown adult? This R package tries to
balance these problems to have a fair distribution. Friendship is great
and all the accounting should be smooth and unproblematic.</p>
</div>
<div class="section level2">
<h2 id="how-to-use-this-package">How to use this package<a class="anchor" aria-label="anchor" href="#how-to-use-this-package"></a>
</h2>
<p>So you are convinced that this package is something for you? You want
to give it a try? Go ahead. Follow the following steps to divide the
costs of an activity fair amongst all participants</p>
<div class="section level3">
<h3 id="install-and-load-the-package">Install and load the package<a class="anchor" aria-label="anchor" href="#install-and-load-the-package"></a>
</h3>
<p>The package uses R. The package can be installed using devtools and
the loaded into R</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="va">github.com</span><span class="op">/</span><span class="va">jakobschumacher</span><span class="op">/</span><span class="va">dividefair</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">dividefair</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="prepare-input-files">Prepare input files<a class="anchor" aria-label="anchor" href="#prepare-input-files"></a>
</h3>
<p>This is the tricky part of the undertaking. You need to have two
files where you collect all the information that you need. Fortunately
you can use those files also during the planning of the group activity -
so next time you start with a group activity write down the information
acording to the following scheme.</p>
<blockquote>
<p>The <code>participants.csv</code> file. This should be a csv file.
There should be 4 types of columns in that file: person columns
(something like <em>id</em>, <em>name</em> or <em>age</em>), grouping
columns (usually called <em>group</em>), cost columns (that all start
with the prefix <em>cost_</em> and the continue with the name of the
cost) and lastely and adjustment column (called <em>adjustment</em>).
You can have a look at the example file <a href="inst/participants.csv">participants.csv</a></p>
</blockquote>
<blockquote>
<p>The <code>costs.csv</code> file. This file contains all the costs.
One column must be <em>id</em>, one column must be the name of the cost
and one column should contain the actual cost. You can have a look at
the example file <a href="inst/costs.csv">costs.csv</a></p>
</blockquote>
</div>
<div class="section level3">
<h3 id="run-the-analysis">Run the analysis<a class="anchor" aria-label="anchor" href="#run-the-analysis"></a>
</h3>
<p>This is the easy part. If the input files are in structured in the
right way, all you need to do is run:</p>
<pre><code><span><span class="fu"><a href="../reference/divide_fairly.html">divide_fairly</a></span><span class="op">(</span>participants_file <span class="op">=</span> <span class="st">"link_to_participants_file.csv"</span>, costs_file <span class="op">=</span> <span class="st">"link_to_costs_file.csv"</span><span class="op">)</span></span></code></pre>
<p>What this will do is: It reads in the files, checks if the files are
structured in the right way, changes categorical values into numerical
values, it calculates a weight based on the age, adjustment and the
grade of involvement. In the end it gives out the amount that everybody
needs to pay and whom the money should be paid.</p>
</div>
</div>
<div class="section level2">
<h2 id="this-is-the-documentation-of-all-functions-of-the-package">This is the documentation of all functions of the package<a class="anchor" aria-label="anchor" href="#this-is-the-documentation-of-all-functions-of-the-package"></a>
</h2>
<div class="section level3">
<h3 id="function-to-read-costs-file">Function to read costs file<a class="anchor" aria-label="anchor" href="#function-to-read-costs-file"></a>
</h3>
<p>This is a helper function that reads in the data from the participant
file.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_costs</span> <span class="op">&lt;-</span> <span class="fu">dividefair</span><span class="fu">::</span><span class="fu"><a href="../reference/read_costs.html">read_costs</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="function-to-read-the-participants-file">Function to read the participants file<a class="anchor" aria-label="anchor" href="#function-to-read-the-participants-file"></a>
</h3>
<p>This is a helper function that reads in the data from the participant
file</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_participants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_participants.html">read_participants</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="function-to-check-conformity-of-dataset">Function to check conformity of dataset<a class="anchor" aria-label="anchor" href="#function-to-check-conformity-of-dataset"></a>
</h3>
<p>This is a helper function that checks if the two data files are in
the right format</p>
</div>
<div class="section level3">
<h3 id="function-to-change-the-categorical-values-to-numerical-values">Function to change the categorical values to numerical values<a class="anchor" aria-label="anchor" href="#function-to-change-the-categorical-values-to-numerical-values"></a>
</h3>
<p>This is a helper function that is used in the read_participants
function. In the cost variables we accept categorical values. These
categorical values need to be turned into numeric values</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_participants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cat_to_num.html">cat_to_num</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="function-to-collect-some-basic-stats">Function to collect some basic stats<a class="anchor" aria-label="anchor" href="#function-to-collect-some-basic-stats"></a>
</h3>
<p>This function collects some basic stats about the activity and the
participants</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_stats.html">get_stats</a></span><span class="op">(</span><span class="fu"><a href="../reference/read_participants.html">read_participants</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="function-to-calculate-the-share">Function to calculate the share<a class="anchor" aria-label="anchor" href="#function-to-calculate-the-share"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_participants</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/divide_costs.html">divide_costs</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="function-to-minimize-payments-between-payers-and-recievers">Function to minimize payments between payers and recievers<a class="anchor" aria-label="anchor" href="#function-to-minimize-payments-between-payers-and-recievers"></a>
</h3>
<p>This is a helper function. We will recieve people who will recieve
money and people who will need to pay money. We need to match those by
also reducing the number of payments.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  person <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brown"</span>, <span class="st">"Smith"</span>, <span class="st">"Fisher"</span>, <span class="st">"Taylor"</span>, <span class="st">"Davis"</span>, <span class="st">"Johnson"</span>, <span class="st">"Wilson"</span>, <span class="st">"ORally"</span><span class="op">)</span>,</span>
<span>  to_pay <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">995</span>, <span class="op">-</span><span class="fl">125</span>, <span class="op">-</span><span class="fl">80</span>,  <span class="fl">210</span>, <span class="fl">245</span>, <span class="fl">300</span>, <span class="fl">365</span>, <span class="fl">80</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/minimize_payments.html">minimize_payments</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   payer   receiver amount</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ORally  Fisher       80</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Wilson  Brown       365</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Johnson Brown       300</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Davis   Brown       245</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Taylor  Brown        85</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Taylor  Smith       125</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="function-to-give-you-amount-each-has-to-pay">Function to give you amount each has to pay<a class="anchor" aria-label="anchor" href="#function-to-give-you-amount-each-has-to-pay"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/divide_fairly.html">divide_fairly</a></span><span class="op">(</span>pay_by <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jakob Schumacher.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
